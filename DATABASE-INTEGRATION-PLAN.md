# –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL - TUTUU MARKET MVP

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 4 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**: CTO (Cursor AI)

## üéØ –¶–µ–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL —Å PostGIS –¥–ª—è MVP, –≤–∫–ª—é—á–∞—è —Å—Ö–µ–º—ã, –º–∏–≥—Ä–∞—Ü–∏–∏, Prisma ORM –∏ seed –¥–∞–Ω–Ω—ã–µ.

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ
- **PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **PostGIS —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- **Redis** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **–°—Ö–µ–º—ã –ë–î** —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **API endpoints** –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚ùå –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **–°—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü** –≤ PostgreSQL
- **Prisma ORM** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–ú–∏–≥—Ä–∞—Ü–∏–∏** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **Seed –¥–∞–Ω–Ω—ã–µ** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ò–Ω–¥–µ–∫—Å—ã** –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ MVP

#### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```sql
-- users (–æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
-- user_profiles (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏)
-- user_sessions (—Å–µ—Å—Å–∏–∏ –∏ —Ç–æ–∫–µ–Ω—ã)
-- user_verifications (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
```

#### 2. –°–∫–ª–∞–¥—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
```sql
-- warehouses (—Å–∫–ª–∞–¥—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤)
-- warehouse_products (–æ—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º)
-- warehouse_locations (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è —Å–∫–ª–∞–¥–æ–≤)
```

#### 3. –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
```sql
-- carriers (–ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏)
-- vehicles (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞)
-- deliveries (–∑–∞–∫–∞–∑—ã –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É)
-- delivery_tracking (—Ç—Ä–µ–∫–∏–Ω–≥ –¥–æ—Å—Ç–∞–≤–æ–∫)
```

#### 4. –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
```sql
-- products (—Ç–æ–≤–∞—Ä—ã)
-- categories (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
-- product_attributes (—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)
-- product_images (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
```

#### 5. –ó–∞–∫–∞–∑—ã –∏ —Å–º–µ—Ç—ã
```sql
-- orders (–∑–∞–∫–∞–∑—ã)
-- order_items (–ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤)
-- estimates (—Å–º–µ—Ç—ã)
-- estimate_items (–ø–æ–∑–∏—Ü–∏–∏ —Å–º–µ—Ç)
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prisma ORM (1-2 –¥–Ω—è)

#### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –í –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ
npm install prisma @prisma/client
npm install -D prisma
```

#### 1.2 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma
```bash
npx prisma init
```

#### 1.3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```env
# .env
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/tutuu_market?schema=public"
```

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã Prisma (2-3 –¥–Ω—è)

#### 2.1 –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏
```prisma
// schema.prisma
model User {
  id        String   @id @default(cuid())
  email     String   @unique
  phone     String?  @unique
  firstName String
  lastName  String
  role      UserRole
  status    UserStatus @default(ACTIVE)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  // Relations
  profile   UserProfile?
  orders    Order[]
  deliveries Delivery[]
  
  @@map("users")
}

model Warehouse {
  id        String   @id @default(cuid())
  name      String
  address   String
  coordinates Json? // PostGIS coordinates
  type      WarehouseType
  sellerId  String
  isActive  Boolean  @default(true)
  
  // Relations
  seller    User     @relation(fields: [sellerId], references: [id])
  products  WarehouseProduct[]
  
  @@map("warehouses")
}
```

#### 2.2 –ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```prisma
// –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è PostGIS
model WarehouseLocation {
  id          String   @id @default(cuid())
  warehouseId String   @unique
  latitude    Float
  longitude   Float
  address     String
  
  // PostGIS —Ñ—É–Ω–∫—Ü–∏–∏
  @@map("warehouse_locations")
}
```

### –≠—Ç–∞–ø 3: –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ seed –¥–∞–Ω–Ω—ã–µ (1-2 –¥–Ω—è)

#### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
npx prisma migrate dev --name init
```

#### 3.2 Seed –¥–∞–Ω–Ω—ã–µ
```typescript
// prisma/seed.ts
async function main() {
  // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  const admin = await prisma.user.create({
    data: {
      email: 'admin@tutuumarket.ru',
      firstName: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
      lastName: '–°–∏—Å—Ç–µ–º—ã',
      role: 'ADMIN',
      phone: '+79001234567'
    }
  });
  
  // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  const categories = await Promise.all([
    prisma.category.create({
      data: { name: '–ö–∏—Ä–ø–∏—á –∏ –±–ª–æ–∫–∏', slug: 'kirpich-bloki' }
    }),
    prisma.category.create({
      data: { name: '–¶–µ–º–µ–Ω—Ç –∏ —Å–º–µ—Å–∏', slug: 'cement-smesi' }
    })
  ]);
}
```

## üìÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–µ–¥–µ–ª—è 1 (4-10 —Å–µ–Ω—Ç—è–±—Ä—è 2025)
- [ ] **–î–µ–Ω—å 1-2**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prisma ORM –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
- [ ] **–î–µ–Ω—å 3-4**: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã Prisma –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- [ ] **–î–µ–Ω—å 5**: –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –∏ seed –¥–∞–Ω–Ω—ã—Ö

### –ù–µ–¥–µ–ª—è 2 (11-17 —Å–µ–Ω—Ç—è–±—Ä—è 2025)
- [ ] **–î–µ–Ω—å 1-2**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Prisma –≤ API endpoints
- [ ] **–î–µ–Ω—å 3-4**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- [ ] **–î–µ–Ω—å 5**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –∏–Ω–¥–µ–∫—Å—ã

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ë–î

### 1. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (2-3 –Ω–µ–¥–µ–ª–∏)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

### 2. Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (4-6 –Ω–µ–¥–µ–ª—å)
- React Native –ø—Ä–æ–µ–∫—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
- UI/UX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –Ω–µ–¥–µ–ª–∏)
- Unit —Ç–µ—Å—Ç—ã
- Integration —Ç–µ—Å—Ç—ã
- E2E —Ç–µ—Å—Ç—ã

## üîç –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
- [ ] –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
- [ ] –°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- [ ] Seed –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ
- [ ] Prisma ORM –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ < 100ms
- [ ] –ò–Ω–¥–µ–∫—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

### –ö–∞—á–µ—Å—Ç–≤–æ
- [ ] –°—Ö–µ–º–∞ –ë–î —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

## üìö –†–µ—Å—É—Ä—Å—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [Prisma Documentation](https://www.prisma.io/docs/)
- [PostGIS Documentation](https://postgis.net/documentation/)
- [PostgreSQL Best Practices](https://www.postgresql.org/docs/current/)

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- [API Specification](API-DOCUMENTATION.md)
- [Database Schema](database-schema.md)
- [Technical Architecture](technical-architecture.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 4 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 11 —Å–µ–Ω—Ç—è–±—Ä—è 2025
